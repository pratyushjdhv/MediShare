<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <!-- Unicons CSS -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.9/css/unicons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Include Bootstrap Icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <title>
        {% block title %}
        {% endblock %}
    </title>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark ">
        <div class="container">
            <a class="navbar-brand text" href="{{ url_for('home') }}">MediShare</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    {% if not current_user.is_pharma %}
                        <li class="nav-item">
                            <div style="text-align: center;">
                                <a class="nav-link" style="display: block; color:#87CEFA;"
                                    href="{{ url_for('med_return') }}">
                                    <i class="bi bi-clipboard2-pulse" style="display: block;"></i>
                                    Return Meds
                                </a>
                            </div>
                        </li>                   

                        <li class="nav-item">
                            <div style="text-align: center;">
                                <a class="nav-link" style="display: block; color:#87CEFA;" href="{{ url_for('donate') }}">
                                    <div style="display: block;">
                                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                            fill="currentColor" viewBox="0 0 512 512">
                                            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
                                                fill="currentColor" stroke="none">
                                                <path
                                                    d="M2166 4854 c-195 -43 -357 -156 -465 -324 -42 -65 -101 -205 -101 -240 0 -33 26 -75 55 -88 65 -30 116 -3 145 75 88 235 253 371 475 390 240 20 470 -152 575 -430 36 -94 66 -127 115 -127 50 0 81 34 119 127 48 120 92 188 176 273 109 110 219 160 352 160 121 0 259 -51 349 -129 64 -56 134 -162 166 -251 35 -99 43 -270 19 -375 -59 -249 -265 -488 -870 -1007 l-298 -256 -267 226 c-428 362 -598 521 -757 705 -35 41 -45 47 -80 47 -58 -1 -104 -46 -104 -104 0 -74 253 -329 700 -706 107 -90 255 -215 328 -277 133 -113 162 -130 205 -119 26 6 595 492 795 678 346 322 507 559 552 814 18 101 8 297 -20 394 -58 203 -209 393 -380 478 -103 51 -177 71 -291 79 -254 17 -486 -105 -646 -340 -41 -59 -49 -66 -58 -51 -5 9 -36 52 -68 95 -97 131 -217 219 -362 265 -103 33 -258 41 -359 18z" />
                                                <path
                                                    d="M1624 3956 c-37 -37 -43 -70 -20 -115 47 -90 186 -50 186 55 0 38 -59 94 -100 94 -23 0 -41 -9 -66 -34z" />
                                                <path
                                                    d="M34 2616 l-34 -34 0 -926 c0 -1007 -2 -968 55 -994 33 -15 672 -17 725 -2 76 21 144 78 196 166 10 18 13 18 95 0 139 -30 196 -57 520 -251 171 -103 347 -202 392 -221 282 -121 603 -136 897 -41 41 13 379 158 750 322 371 163 783 344 915 402 384 168 415 184 473 247 71 78 96 146 97 261 0 80 -4 97 -32 156 -17 37 -47 84 -67 106 -76 84 -226 135 -338 114 -30 -5 -271 -84 -537 -175 -265 -91 -483 -166 -484 -166 -1 0 -2 37 -3 83 0 71 -4 92 -31 147 -57 122 -157 203 -281 229 -33 7 -186 11 -405 11 l-352 0 -250 141 c-137 78 -284 158 -325 179 -142 72 -147 73 -612 77 l-416 4 -13 30 c-18 45 -93 117 -147 142 -45 21 -62 22 -400 25 l-353 3 -35 -35z m732 -200 l34 -34 0 -726 c0 -541 -3 -732 -12 -751 -23 -51 -45 -55 -328 -55 l-260 0 0 800 0 800 266 0 266 0 34 -34z m1084 -193 c31 -11 186 -94 345 -183 159 -90 309 -169 334 -177 33 -10 132 -13 406 -13 l361 0 50 -25 c28 -14 59 -37 70 -52 72 -97 47 -232 -53 -294 l-38 -24 -562 -5 -563 -5 -27 -27 c-41 -41 -39 -100 5 -139 l32 -29 558 0 557 0 70 26 c39 14 279 97 535 185 256 89 530 183 610 211 161 55 222 62 284 33 83 -40 119 -158 74 -244 -13 -25 -34 -53 -48 -63 -14 -10 -471 -215 -1015 -454 -688 -303 -1019 -444 -1085 -462 -82 -22 -116 -25 -255 -26 -169  -1 -222 7 -355 51 -103 35 -133 51 -459 246 -157 94 -306 181 -331 193 -64 31 -192 70 -277 84 l-73 12 0 605 0 604 398 -3 c373 -4 400 -5 452 -25z" />
                                                <path
                                                    d="M434 2216 c-37 -37 -43 -70 -20 -115 47 -90 186 -50 186 55 0 38 -59 94 -100 94 -23 0 -41 -9 -66 -34z" />
                                            </g>
                                        </svg>
                                    </div>
                                    Donate
                                </a>
                            </div>
                        </li>
                        {% else %}
                        <li class="nav-item">
                            <div style="text-align: center;">
                                <a class="nav-link" style="display: block; color:#87CEFA;"
                                    href="{{ url_for('pharma_user') }}">
                                    <i class="bi bi-journal-plus" style="display: block;"></i>
                                    Assign Points
                                </a>
                            </div>
                        </li>
                    {% endif %}
                    {% if not current_user.is_pharma %}
                    <li class="nav-item">
                        <div style="text-align: center;">
                            <a class="nav-link" style="display: block; color:#87CEFA;"
                                href="{{ url_for('med_scheduler') }}">
                                <i class="bi bi-journal-plus" style="display: block;"></i>
                                medicine scheduler
                            </a>
                        </div>
                    </li>
                    {% endif %}

                </ul>
            </div>


            {% if current_user.is_authenticated %}            
                <ul class="navbar-nav me-auto">
                    {% if not current_user.is_pharma %}
                    <li class="nav-item">
                        <div style="text-align: center;">
                            <a class="nav-link text">
                                <span
                                    style="font-size: 25px; display: inline-block; ">{{current_user.pharmacy_name}}</span>
                                <i class="bi bi-hospital" style="font-size: 2rem; display: inline-block;margin-inline: 8px;"></i>
                            </a>
                        </div>
                    </li>

                    <li class="nav-item">
                        <div style="text-align: center;">
                            <div class="nav-link text" style="display: block;">
                                <i class="bi bi-heart " style="display: block;"></i> {{current_user.points}}
                            </div>
                        </div>
                    </li>


            
                <li class="nav-item">
                    <div style="text-align: center;">
                        <div class="nav-link text" style="display: block;">
                            <i class="bi bi-geo-alt " style="display: block;"></i> {{current_user.pincode}}
                        </div>
                    </div>
                </li>

                <li class="nav-item">
                    <div style="text-align: center;">
                        <a class="nav-link text" style="display: block;" href="{{ url_for('profile_page') }}">
                            <i class="bi bi-person-fill " style="display: block;"></i> {{current_user.username}}
                        </a>
                    </div>
                </li>

                <li class="nav-item">
                    <div style="text-align: center;">
                        <a href="{{ url_for('logout') }}" class="nav-link text" style="display: block;">
                            <i class="bi bi-box-arrow-right" style="display: block;"></i> Logout
                        </a>
                    </div>
                </li>
            </ul>
            {% endif %}
            {% else %} <!-- Add this line -->
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <div style="text-align: center;">
                        <a class="nav-link text" style="display: block;" href="{{ url_for('login_users') }}">
                            <i class="bi bi-person-fill"></i> Login
                        </a>
                    </div>
                </li>
            </ul>
            {% endif %}
            
            
        </div>
    </nav>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="container">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    {% block content %}

    {% endblock %}

</body>

<style>
    body {
        background-color: #1F2029;
        color: whitesmoke;
    }

    form label {
        color: whitesmoke;
    }

    .navbar {
        background-color: #111215;
    }

    .text {
        color: #FFEBA7 !important;
    }
</style>

</html>